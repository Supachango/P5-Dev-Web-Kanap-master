// Récupération des pièces depuis le fichier JSON
const reponse = await fetch('pieces-autos.json');
const pieces = await reponse.json();

// On entoure le code de génération par une boucle FOR
for (let i = 0; i < pieces.length; i++) {


    //On ajout la variable i pour l'article afin de récupérer la pièce à l'index du parcours de la boucle
    //ou ... On accède à l'indice i de la liste piece pour configurer la source de l'image
    const article = pieces[i];

    //Récupération de l'élément du DOM qui acceuillera les fiches
    const sectionFiches = document.querySelector(".fiches");

    //Création d'une balise dédiée à une pièce automobile
    const pieceElement = document.createElement("article");

    
    // création des balises
    const imageElement = document.createElement("img");
    imageElement.src = pieces[i].image;

    const nomElement = document.createElement("h2");
    nomElement.innerText = article.nom;

    const prixElement = document.createElement("p");
    prixElement.innerText = `Prix: ${article.prix} € (${article.prix < 35 ? "€" : "€€€"})`;

    const categorieElement = document.createElement("p");
    categorieElement.innerText = article.categorie ?? "(aucune catégorie)";

    const descriptionElement = document.createElement("p");
    descriptionElement.innerText = article.description ?? "Pas de description pour le moment.";

    const stockElement = document.createElement("p");
    stockElement.innerText = article.disponibilite ? "en stock" : "Rupture de stock";

    //On rattache la balise article à la section fiche
    sectionFiches.appendChild(pieceElement);
    //On rattache l'image à pieceElement la balise article 
    pieceElement.appendChild(imageElement);
    pieceElement.appendChild(nomElement);
    pieceElement.appendChild(prixElement);
    pieceElement.appendChild(categorieElement);
    //ajout des elements au DOM pour l'exercice
    pieceElement.appendChild(descriptionElement);
    pieceElement.appendChild(stockElement);

}

**********************************************************************


async function getCanapes(){
    const reponse = await fetch('http://localhost:3000/api/products')
    const canapes = await reponse.json();
    console.log (canapes)
}

getCanapes()

for (let i= 0; i < canapes.length; i++ ){
    const products = canapes[i]

    const sectionItems = document.querySelector(".items");

    const imageElement = document.createElement('products'); 
    
    
    
    const colorsElement = document.createElement("h2");
    colorsElement.innerText = products[c].colors;

    const _idElement = document.createElement("p");
    _idElement.innerText = products._id;

    const nameElement = document.createElement("h3");
    nameElement.innerText = products.name;

    const priceElement = document.createElement("p");
    priceElement.innerText = products.price;

    const imageUrlElement = document.createElement("img");
    imageUrlElement.src = products[i].imageUrl;

    const descriptionElement = document.createElement("p");
    descriptionElement.innerText = products.description ?? "Pas de description pour le moment.";

    const altTextElement = document.createElement("p");
    altTextElement.innerText = products.altText;

    sectionItems.appendChild(productsElement);
    productsElement.appendChild(colorsElement);
    productsElement.appendChild(_idElement)
    productsElement.appendChild(nameElement)
    productsElement.appendChild(priceElement)
    productsElement.appendChild(imageUrlElement)
    productsElement.appendChild(descriptionElement)
    productsElement.appendChild(altTextElement)

}

    










